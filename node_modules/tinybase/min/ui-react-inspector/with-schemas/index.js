import{jsx as e,jsxs as t,Fragment as n}from"react/jsx-runtime";import{useCell as s,useValue as r,useSetValueCallback as l,ValueView as a,useValueIds as i,useStoreOrStoreById as o,useIndexesOrIndexesById as d,useSliceRowIds as c,useTableCellIds as h,useResultRowCount as u,useResultSortedRowIds as m,ResultCellView as g,useResultTableCellIds as p,useRelationshipsOrRelationshipsById as b,CellView as f,useRowIds as I,useSetCellCallback as w,useRemoteRowId as y,useRowCount as v,useSortedRowIds as C,useIndexes as x,useIndexIds as T,useSliceIds as S,useMetrics as k,useMetricIds as q,useMetric as N,useQueries as V,useQueryIds as L,useRelationships as M,useRelationshipIds as R,useStore as E,useTableIds as z,useValues as $,useStoreIds as A,useMetricsIds as J,useIndexesIds as O,useRelationshipsIds as P,useQueriesIds as D,useCreateStore as F,useCreatePersister as j}from"../../ui-react/with-schemas/index.js";import B from"react";const H=e=>typeof e,W="",Q=H(W),G=H(!0),K=H(0),U=H(H),X="type",Y="default",Z="Has",_="Ids",ee="Table",te=ee+"s",ne=ee+_,se="Row",re=se+"Count",le=se+_,ae="Cell",ie=ae+_,oe="Value",de=oe+"s",ce=oe+_,he="currentTarget",ue="value",me=e=>W+e,ge=globalThis.window,pe=Math,be=pe.min,fe=pe.floor,Ie=isFinite,we=e=>null==e,ye=(e,t,n)=>we(e)?n?.():t(e),ve=e=>e==Q||e==G,Ce=e=>H(e)==U,xe=e=>Array.isArray(e),Te=(e,t,n)=>e.slice(t,n),Se=e=>e.length,ke=e=>{throw Error(e)},qe=(e,t)=>e.sort(t),Ne=(e,t)=>e.forEach(t),Ve=(e,t)=>e.map(t),Le=e=>0==Se(e),Me=(e,...t)=>e.push(...t),Re=e=>e.shift(),Ee=Object,ze=e=>Ee.getPrototypeOf(e),$e=Ee.entries,Ae=Ee.isFrozen,Je=e=>!we(e)&&ye(ze(e),(e=>e==Ee.prototype||we(ze(e))),(()=>!0)),Oe=Ee.keys,Pe=Ee.freeze,De=(e=[])=>Ee.fromEntries(e),Fe=(e,t)=>t in e,je=(e,t)=>(delete e[t],e),Be=(e,t)=>Ve($e(e),(([e,n])=>t(n,e))),He=(e,t)=>De(Be(e,((e,n)=>[n,t(e,n)]))),We=e=>Je(e)&&0==(e=>Se(Oe(e)))(e),Qe=(e,t,n,s=0)=>we(e)||!Je(e)||!s&&We(e)||Ae(e)?(n?.(),!1):(((e,t)=>{Ne($e(e),(([e,n])=>t(n,e)))})(e,((n,s)=>{t(n,s)||je(e,s)})),!!s||!We(e)),Ge=JSON.stringify,Ke=JSON.parse,Ue=e=>Ge(e,((e,t)=>t instanceof Map?Ee.fromEntries([...t]):t)),Xe=e=>t=>{return n=(t,n)=>t+e(n),st(t).reduce(n,0);var n},Ye=e=>e?.size??0,Ze=Xe(Ye),_e=Xe(Ze),et=Xe(_e),tt=(e,t)=>e?.has(t)??!1,nt=e=>we(e)||0==Ye(e),st=e=>[...e?.values()??[]],rt=e=>e.clear(),lt=(e,t)=>e?.forEach(t),at=(e,t)=>e?.delete(t),it=e=>new Map(e),ot=e=>[...e?.keys()??[]],dt=(e,t)=>e?.get(t),ct=(e,t)=>lt(e,((e,n)=>t(n,e))),ht=(e,t,n)=>we(n)?(at(e,t),e):e?.set(t,n),ut=(e,t,n,s)=>(tt(e,t)?s?.(dt(e,t)):ht(e,t,n()),dt(e,t)),mt=(e,t,n,s=ht)=>(He(t,((t,s)=>n(e,s,t))),ct(e,(n=>Fe(t,n)?0:s(e,n))),e),gt=(e,t,n,s)=>{const r={};return lt(e,((e,l)=>{if(!n?.(e,l)){const n=t?t(e,l):e;s?.(n)||(r[l]=n)}})),r},pt=(e,t,n)=>gt(e,(e=>gt(e,t,n)),nt,We),bt=(e,t,n)=>gt(e,(e=>pt(e,t,n)),nt,We),ft=(e,t)=>{const n=it();return lt(e,((e,s)=>n.set(s,t?.(e)??e))),n},It=e=>ft(e,ft),wt=e=>ft(e,It),yt=(e,t,n,s,r=0)=>ye((n?ut:dt)(e,t[r],r>Se(t)-2?n:it),(l=>{if(r>Se(t)-2)return s?.(l)&&ht(e,t[r]),l;const a=yt(l,t,n,s,r+1);return nt(l)&&ht(e,t[r]),a})),vt=/^\d+$/,Ct=()=>{const e=[];let t=0;return[n=>(n?Re(e):null)??W+t++,t=>{vt.test(t)&&Se(e)<1e3&&Me(e,t)}]},xt=e=>new Set(xe(e)||we(e)?e:[e]),Tt=(e,t)=>e?.add(t),St=e=>{let t;const[n,s]=Ct(),r=it();return[(s,l,a,i=[],o=()=>[])=>{t??=e();const d=n(1);return ht(r,d,[s,l,a,i,o]),Tt(yt(l,a??[W],xt),d),d},(e,n,...s)=>Ne(((e,t=[W])=>{const n=[],s=(e,r)=>r==Se(t)?Me(n,e):null===t[r]?lt(e,(e=>s(e,r+1))):Ne([t[r],null],(t=>s(dt(e,t),r+1)));return s(e,0),n})(e,n),(e=>lt(e,(e=>dt(r,e)[0](t,...n??[],...s))))),e=>ye(dt(r,e),(([,t,n])=>(yt(t,n??[W],void 0,(t=>(at(t,e),nt(t)?1:0))),ht(r,e),s(e),n))),e=>ye(dt(r,e),(([e,,n=[],s,r])=>{const l=(...a)=>{const i=Se(a);i==Se(n)?e(t,...a,...r(a)):we(n[i])?Ne(s[i]?.(...a)??[],(e=>l(...a,e))):l(...a,n[i])};l()}))]},kt=it(),qt=it(),Nt="storage",Vt=e=>{const t=H(e);return ve(t)||t==K&&Ie(e)?t:void 0},Lt=(e,t,n,s,r)=>we(r)?e.delCell(t,n,s,!0):e.setCell(t,n,s,r),Mt=(e,t,n)=>we(n)?e.delValue(t):e.setValue(t,n),Rt=(e,t,n,s)=>e==Q?t:e==K?n:s,Et=e=>[e,e],zt=(e,t=Ze)=>t(e[0])+t(e[1]),$t=()=>[it(),it()],At=e=>[...e],Jt=([e,t])=>e===t,Ot=(e,t,n)=>ht(e,t,dt(e,t)==-n?void 0:n),Pt=()=>{let e,t,n=!1,s=!1,r=0,l=[];const a=it(),i=it(),o=it(),d=it(),c=it(),h=it(),u=it(),m=it(),g=it(),p=it(),b=it(),f=it(),I=it(),w=it(),y=xt(),v=it(),C=it(),x=it(),T=it(),S=$t(),k=$t(),q=$t(),N=$t(),V=$t(),L=$t(),M=$t(),R=$t(),E=$t(),z=$t(),$=$t(),A=$t(),J=$t(),O=$t(),P=$t(),D=$t(),F=$t(),j=$t(),B=$t(),H=$t(),W=$t(),Q=$t(),G=it(),U=$t(),[_,he,ue,ge]=St((()=>An)),pe=e=>{if(!Qe(e,((e,t)=>[X,Y].includes(t))))return!1;const t=e[X];return!(!ve(t)&&t!=K||(Vt(e[Y])!=t&&je(e,Y),0))},be=xe,fe=(t,n)=>(!e||tt(b,n)||Gt(n))&&Qe(t,((e,t)=>Ie(n,t,e)),(()=>Gt(n))),Ie=(e,t,n,s)=>Qe(s?n:Ee(n,e,t),((s,r)=>ye(ke(e,t,r,s),(e=>(n[r]=e,!0)),(()=>!1))),(()=>Gt(e,t))),ke=(t,n,s,r)=>e?ye(dt(dt(b,t),s),(e=>Vt(r)!=e[X]?Gt(t,n,s,r,e[Y]):r),(()=>Gt(t,n,s,r))):we(Vt(r))?Gt(t,n,s,r):r,Le=(e,t)=>Qe(t?e:ze(e),((t,n)=>ye(Re(n,t),(t=>(e[n]=t,!0)),(()=>!1))),(()=>Kt())),Re=(e,n)=>t?ye(dt(I,e),(t=>Vt(n)!=t[X]?Kt(e,n,t[Y]):n),(()=>Kt(e,n))):we(Vt(n))?Kt(e,n):n,Ee=(e,t,n)=>(ye(dt(f,t),(([s,r])=>{lt(s,((t,n)=>{Fe(e,n)||(e[n]=t)})),lt(r,(s=>{Fe(e,s)||Gt(t,n,s)}))})),e),ze=e=>(t&&(lt(w,((t,n)=>{Fe(e,n)||(e[n]=t)})),lt(y,(t=>{Fe(e,t)||Kt(t)}))),e),$e=e=>mt(b,e,((e,t,n)=>{const s=it(),r=xt();mt(ut(b,t,it),n,((e,t,n)=>{ht(e,t,n),ye(n[Y],(e=>ht(s,t,e)),(()=>Tt(r,t)))})),ht(f,t,[s,r])}),((e,t)=>{ht(b,t),ht(f,t)})),Ae=e=>mt(I,e,((e,t,n)=>{ht(I,t,n),ye(n[Y],(e=>ht(w,t,e)),(()=>Tt(y,t)))}),((e,t)=>{ht(I,t),ht(w,t),at(y,t)})),Je=e=>We(e)?qn():Cn(e),Oe=e=>mt(x,e,((e,t,n)=>De(t,n)),((e,t)=>qt(t))),De=(e,t)=>mt(ut(x,e,(()=>(Ft(e,1),ht(v,e,Ct()),ht(C,e,it()),it()))),t,((t,n,s)=>Be(e,t,n,s)),((t,n)=>Nt(e,t,n))),Be=(e,t,n,s,r)=>mt(ut(t,n,(()=>(jt(e,n,1),it()))),s,((t,s,r)=>Ge(e,n,t,s,r)),((s,l)=>Rt(e,t,n,s,l,r))),Ge=(e,t,n,s,r)=>{tt(n,s)||Bt(e,t,s,1);const l=dt(n,s);r!==l&&(Ht(e,t,s,l,r),ht(n,s,r))},Xe=(e,t,n,s,r)=>ye(dt(t,n),(t=>Ge(e,n,t,s,r)),(()=>Be(e,t,n,Ee({[s]:r},e,n)))),st=e=>We(e)?Ln():xn(e),yt=e=>mt(T,e,((e,t,n)=>vt(t,n)),((e,t)=>Dt(t))),vt=(e,t)=>{tt(T,e)||Wt(e,1);const n=dt(T,e);t!==n&&(Qt(e,n,t),ht(T,e,t))},kt=e=>dt(x,e)??De(e,{}),qt=e=>De(e,{}),Nt=(e,t,n)=>{const[,s]=dt(v,e);s(n),Be(e,t,n,{},!0)},Rt=(e,t,n,s,r,l)=>{const a=dt(dt(f,e)?.[0],r);if(!we(a)&&!l)return Ge(e,n,s,r,a);const i=t=>{Ht(e,n,t,dt(s,t)),Bt(e,n,t,-1),ht(s,t)};we(a)?i(r):ct(s,i),nt(s)&&(jt(e,n,-1),nt(ht(t,n))&&(Ft(e,-1),ht(x,e),ht(v,e),ht(C,e)))},Dt=e=>{const t=dt(w,e);if(!we(t))return vt(e,t);Qt(e,dt(T,e)),Wt(e,-1),ht(T,e)},Ft=(e,t)=>Ot(a,e,t),jt=(e,t,n)=>Ot(ut(d,e,it),t,n)&&ht(o,e,ut(o,e,(()=>0))+n),Bt=(e,t,n,s)=>{const r=dt(C,e),l=dt(r,n)??0;(0==l&&1==s||1==l&&-1==s)&&Ot(ut(i,e,it),n,s),ht(r,n,l!=-s?l+s:null),Ot(ut(ut(c,e,it),t,it),n,s)},Ht=(e,t,n,s,r)=>{ut(ut(ut(h,e,it),t,it),n,(()=>[s,0]))[1]=r,l[3]?.(e,t,n,r)},Wt=(e,t)=>Ot(u,e,t),Qt=(e,t,n)=>{ut(m,e,(()=>[t,0]))[1]=n,l[4]?.(e,n)},Gt=(e,t,n,s,r)=>(Me(ut(ut(ut(g,e,it),t,it),n,(()=>[])),s),r),Kt=(e,t,n)=>(Me(ut(p,e,(()=>[])),t),n),Ut=(e,t,n)=>ye(dt(dt(dt(h,e),t),n),(([e,t])=>[!0,e,t]),(()=>[!1,...Et(hn(e,t,n))])),Xt=e=>ye(dt(m,e),(([e,t])=>[!0,e,t]),(()=>[!1,...Et(gn(e))])),Yt=e=>nt(g)||nt(D[e])?0:lt(e?wt(g):g,((t,n)=>lt(t,((t,s)=>lt(t,((t,r)=>he(D[e],[n,s,r],t))))))),Zt=e=>nt(p)||nt(F[e])?0:lt(e?ft(p):p,((t,n)=>he(F[e],[n],t))),_t=(e,t,n,s)=>{if(!nt(e))return he(t,s,(()=>gt(e))),ct(e,((e,t)=>he(n,[...s??[],e],1==t))),1},en=e=>{const t=pn();t!=n&&he(S[e],void 0,t);const s=nt(z[e]),r=nt(J[e])&&nt(O[e])&&nt(E[e])&&nt($[e])&&nt(L[e])&&nt(M[e])&&nt(R[e])&&s&&nt(q[e])&&nt(N[e]),l=nt(P[e])&&nt(A[e])&&nt(V[e])&&nt(k[e]);if(!r||!l){const t=e?[ft(a),It(i),ft(o),It(d),wt(c),wt(h)]:[a,i,o,d,c,h];if(!r){_t(t[0],q[e],N[e]),lt(t[1],((t,n)=>_t(t,L[e],M[e],[n]))),lt(t[2],((t,n)=>{0!=t&&he(R[e],[n],an(n))}));const n=xt();lt(t[3],((t,r)=>{_t(t,E[e],$[e],[r])&&!s&&(he(z[e],[r,null]),Tt(n,r))})),s||lt(t[5],((t,s)=>{if(!tt(n,s)){const n=xt();lt(t,(e=>lt(e,(([t,s],r)=>s!==t?Tt(n,r):at(e,r))))),lt(n,(t=>he(z[e],[s,t])))}})),lt(t[4],((t,n)=>lt(t,((t,s)=>_t(t,J[e],O[e],[n,s])))))}if(!l){let n;lt(t[5],((t,s)=>{let r;lt(t,((t,l)=>{let a;lt(t,(([t,i],o)=>{i!==t&&(he(P[e],[s,l,o],i,t,Ut),n=r=a=1)})),a&&he(A[e],[s,l],Ut)})),r&&he(V[e],[s],Ut)})),n&&he(k[e],void 0,Ut)}}},tn=e=>{const t=yn();t!=s&&he(j[e],void 0,t);const n=nt(H[e])&&nt(W[e]),r=nt(Q[e])&&nt(B[e]);if(!n||!r){const t=e?[ft(u),ft(m)]:[u,m];if(n||_t(t[0],H[e],W[e]),!r){let n;lt(t[1],(([t,s],r)=>{s!==t&&(he(Q[e],[r],s,t,Xt),n=1)})),n&&he(B[e],void 0,Xt)}}},nn=(e,...t)=>(En((()=>e(...Ve(t,me)))),An),sn=()=>bt(x),rn=()=>ot(x),ln=e=>ot(dt(C,me(e))),an=e=>Ye(dt(x,me(e))),on=e=>ot(dt(x,me(e))),dn=(e,t,n,s=0,r)=>{return Ve(Te(qe((l=dt(x,me(e)),a=(e,n)=>[we(t)?n:dt(e,me(t)),n],Ve([...l?.entries()??[]],(([e,t])=>a(t,e)))),(([e],[t])=>((e??0)<(t??0)?-1:1)*(n?-1:1))),s,we(r)?r:s+r),(([,e])=>e));var l,a},cn=(e,t)=>ot(dt(dt(x,me(e)),me(t))),hn=(e,t,n)=>dt(dt(dt(x,me(e)),me(t)),me(n)),un=()=>gt(T),mn=()=>ot(T),gn=e=>dt(T,me(e)),pn=()=>!nt(x),bn=e=>tt(x,me(e)),fn=(e,t)=>tt(dt(C,me(e)),me(t)),In=(e,t)=>tt(dt(x,me(e)),me(t)),wn=(e,t,n)=>tt(dt(dt(x,me(e)),me(t)),me(n)),yn=()=>!nt(T),vn=e=>tt(T,me(e)),Cn=e=>nn((()=>(e=>Qe(e,fe,Gt))(e)?Oe(e):0)),xn=e=>nn((()=>Le(e)?yt(e):0)),Tn=e=>{try{Je(Ke(e))}catch{}return An},Sn=t=>nn((()=>{if((e=Qe(t,(e=>Qe(e,pe))))&&($e(t),!nt(x))){const e=sn();qn(),Cn(e)}})),kn=e=>nn((()=>{if(t=(e=>Qe(e,pe))(e)){const n=un();Rn(),Ln(),t=!0,Ae(e),xn(n)}})),qn=()=>nn((()=>Oe({}))),Nn=e=>nn((e=>tt(x,e)?qt(e):0),e),Vn=(e,t)=>nn(((e,t)=>ye(dt(x,e),(n=>tt(n,t)?Nt(e,n,t):0))),e,t),Ln=()=>nn((()=>yt({}))),Mn=()=>nn((()=>{$e({}),e=!1})),Rn=()=>nn((()=>{Ae({}),t=!1})),En=(e,t)=>{if(-1!=r){zn();const n=e();return $n(t),n}},zn=()=>(-1!=r&&r++,1==r&&(l[0]?.(),he(G)),An),$n=e=>(r>0&&(r--,0==r&&(r=1,Yt(1),nt(h)||en(1),Zt(1),nt(m)||tn(1),e?.(An)&&(lt(h,((e,t)=>lt(e,((e,n)=>lt(e,(([e],s)=>Lt(An,t,n,s,e))))))),rt(h),lt(m,(([e],t)=>Mt(An,t,e))),rt(m)),he(U[0],void 0),r=-1,Yt(0),nt(h)||en(0),Zt(0),nt(m)||tn(0),l[1]?.(),he(U[1],void 0),l[2]?.(),r=0,n=pn(),s=yn(),Ne([a,i,o,d,c,h,g,u,m,p],rt))),An),An={getContent:()=>[sn(),un()],getTables:sn,getTableIds:rn,getTable:e=>pt(dt(x,me(e))),getTableCellIds:ln,getRowCount:an,getRowIds:on,getSortedRowIds:dn,getRow:(e,t)=>gt(dt(dt(x,me(e)),me(t))),getCellIds:cn,getCell:hn,getValues:un,getValueIds:mn,getValue:gn,hasTables:pn,hasTable:bn,hasTableCell:fn,hasRow:In,hasCell:wn,hasValues:yn,hasValue:vn,getTablesJson:()=>Ue(x),getValuesJson:()=>Ue(T),getJson:()=>Ue([x,T]),getTablesSchemaJson:()=>Ue(b),getValuesSchemaJson:()=>Ue(I),getSchemaJson:()=>Ue([b,I]),hasTablesSchema:()=>e,hasValuesSchema:()=>t,setContent:e=>nn((()=>{const t=Ce(e)?e():e;be(t)&&(([e,t])=>{(We(e)?qn:Cn)(e),(We(t)?Ln:xn)(t)})(t)})),setTables:Cn,setTable:(e,t)=>nn((e=>fe(t,e)?De(e,t):0),e),setRow:(e,t,n)=>nn(((e,t)=>Ie(e,t,n)?Be(e,kt(e),t,n):0),e,t),addRow:(e,t,n=!0)=>En((()=>{let s;return Ie(e,s,t)&&(e=me(e),Be(e,kt(e),s=((e,t)=>{const[n]=dt(v,e);let s;do{s=n(t)}while(tt(dt(x,e),s));return s})(e,n?1:0),t)),s})),setPartialRow:(e,t,n)=>nn(((e,t)=>{if(Ie(e,t,n,1)){const s=kt(e);He(n,((n,r)=>Xe(e,s,t,r,n)))}}),e,t),setCell:(e,t,n,s)=>nn(((e,t,n)=>ye(ke(e,t,n,Ce(s)?s(hn(e,t,n)):s),(s=>Xe(e,kt(e),t,n,s)))),e,t,n),setValues:xn,setPartialValues:e=>nn((()=>Le(e,1)?He(e,((e,t)=>vt(t,e))):0)),setValue:(e,t)=>nn((e=>ye(Re(e,Ce(t)?t(gn(e)):t),(t=>vt(e,t)))),e),applyChanges:e=>nn((()=>{He(e[0],((e,t)=>we(e)?Nn(t):He(e,((e,n)=>we(e)?Vn(t,n):He(e,((e,s)=>Lt(An,t,n,s,e))))))),He(e[1],((e,t)=>Mt(An,t,e)))})),setTablesJson:Tn,setValuesJson:e=>{try{st(Ke(e))}catch{}return An},setJson:e=>nn((()=>{try{const[t,n]=Ke(e);Je(t),st(n)}catch{Tn(e)}})),setTablesSchema:Sn,setValuesSchema:kn,setSchema:(e,t)=>nn((()=>{Sn(e),kn(t)})),delTables:qn,delTable:Nn,delRow:Vn,delCell:(e,t,n,s)=>nn(((e,t,n)=>ye(dt(x,e),(r=>ye(dt(r,t),(l=>tt(l,n)?Rt(e,r,t,l,n,s):0))))),e,t,n),delValues:Ln,delValue:e=>nn((e=>tt(T,e)?Dt(e):0),e),delTablesSchema:Mn,delValuesSchema:Rn,delSchema:()=>nn((()=>{Mn(),Rn()})),transaction:En,startTransaction:zn,getTransactionChanges:()=>[gt(h,((e,t)=>-1===dt(a,t)?void 0:gt(e,((e,n)=>-1===dt(dt(d,t),n)?void 0:gt(e,(([,e])=>e),(e=>Jt(e)))),nt,We)),nt,We),gt(m,(([,e])=>e),(e=>Jt(e))),1],getTransactionLog:()=>[!nt(h),!nt(m),bt(h,At,Jt),bt(g),gt(m,At,Jt),gt(p),gt(a),pt(d),bt(c),gt(u)],finishTransaction:$n,forEachTable:e=>lt(x,((t,n)=>e(n,(e=>lt(t,((t,n)=>e(n,(e=>ct(t,e))))))))),forEachTableCell:(e,t)=>ct(dt(C,me(e)),t),forEachRow:(e,t)=>lt(dt(x,me(e)),((e,n)=>t(n,(t=>ct(e,t))))),forEachCell:(e,t,n)=>ct(dt(dt(x,me(e)),me(t)),n),forEachValue:e=>ct(T,e),addSortedRowIdsListener:(e,t,n,s,r,l,a)=>{let i=dn(e,t,n,s,r);return _((()=>{const a=dn(e,t,n,s,r);var o,d,c;d=i,Se(o=a)===Se(d)&&(c=(e,t)=>d[t]===e,o.every(c))||(i=a,l(An,e,t,n,s,r,i))}),z[a?1:0],[e,t],[rn])},addStartTransactionListener:e=>_(e,G),addWillFinishTransactionListener:e=>_(e,U[0]),addDidFinishTransactionListener:e=>_(e,U[1]),callListener:e=>(ge(e),An),delListener:e=>(ue(e),An),getListenerStats:()=>({hasTables:zt(S),tables:zt(k),tableIds:zt(q),hasTable:zt(N),table:zt(V),tableCellIds:zt(L),hasTableCell:zt(M,_e),rowCount:zt(R),rowIds:zt(E),sortedRowIds:zt(z),hasRow:zt($,_e),row:zt(A,_e),cellIds:zt(J,_e),hasCell:zt(O,et),cell:zt(P,et),invalidCell:zt(D,et),hasValues:zt(j),values:zt(B),valueIds:zt(H),hasValue:zt(W),value:zt(Q),invalidValue:zt(F),transaction:Ze(G)+zt(U)}),isMergeable:()=>!1,createStore:Pt,addListener:_,callListeners:he,setInternalListeners:(e,t,n,s,r)=>l=[e,t,n,s,r]};return He({[Z+te]:[0,S,[],()=>[pn()]],[te]:[0,k],[ne]:[0,q],[Z+ee]:[1,N,[rn],e=>[bn(...e)]],[ee]:[1,V,[rn]],[ee+ie]:[1,L,[rn]],[Z+ee+ae]:[2,M,[rn,ln],e=>[fn(...e)]],[re]:[1,R,[rn]],[le]:[1,E,[rn]],[Z+se]:[2,$,[rn,on],e=>[In(...e)]],[se]:[2,A,[rn,on]],[ie]:[2,J,[rn,on]],[Z+ae]:[3,O,[rn,on,cn],e=>[wn(...e)]],[ae]:[3,P,[rn,on,cn],e=>Et(hn(...e))],InvalidCell:[3,D],[Z+de]:[0,j,[],()=>[yn()]],[de]:[0,B],[ce]:[0,H],[Z+oe]:[1,W,[mn],e=>[vn(...e)]],[oe]:[1,Q,[mn],e=>Et(gn(e[0]))],InvalidValue:[1,F]},(([e,t,n,s],r)=>{An["add"+r+"Listener"]=(...r)=>_(r[e],t[r[e+1]?1:0],e>0?Te(r,0,e):void 0,n,s)})),Pe(An)},{PureComponent:Dt,createContext:Ft,useCallback:jt,useContext:Bt,useEffect:Ht,useLayoutEffect:Wt,useMemo:Qt,useRef:Gt,useState:Kt,useSyncExternalStore:Ut}=B,Xt=(e,...t)=>we(e)?{}:e(...t),Yt="tinybaseInspector",Zt="TinyBase Inspector",_t=["left","top","bottom","right","full"],en="state",tn="sort",nn="open",sn="position",rn=nn,ln="editable",an=(...e)=>Ue(e),on=(e,t)=>Ve(qe([...e]),t),dn=(e,t)=>[!!s(en,e,ln,t),jt((n=>{t.setCell(en,e,ln,(e=>!e)),n.preventDefault()}),[t,e])],cn=({s:t})=>{const n=r(sn,t)??1,s=l(rn,(()=>!0),[],t);return r(rn,t)?null:e("img",{onClick:s,title:Zt,"data-position":n})},hn="editable",un=(e,t)=>Ve(h(e,t),(t=>e+"."+t)),mn=(e,t,n)=>{const s=jt(e,t);return n?s:void 0},gn=(...e)=>Qt((()=>e),e),pn=(e,t)=>Qt((()=>({store:e,tableId:t})),[e,t]),bn=(e,t)=>Qt((()=>({queries:e,queryId:t})),[e,t]),fn=(t,n=!1,s,r=0,l,a,i,o)=>{const[[d,c,h],u]=Kt([t,n,r]),m=jt((e=>{u(e),o?.(e)}),[o]),g=mn((e=>m([e,e==d&&!c,h])),[m,d,c,h],s),p=jt((e=>m([d,c,e])),[m,d,c]),b=!0===i?Ln:i;return[[d,c,h],g,Qt((()=>!1===i?null:e(b,{offset:h,limit:l,total:a,onChange:p})),[i,b,h,l,a,p])]},In=(e,t,n)=>Qt((()=>{const s=t??e;return He(xe(s)?De(Ve(s,(e=>[e,e]))):s,((e,t)=>{return{label:t,component:n,...(s=e,H(s)==Q?{label:e}:e)};var s}))}),[t,n,e]),wn=({className:n,headerRow:s,idColumn:r,params:[l,a,i,o,d,c]})=>t("table",{className:n,children:[c?e("caption",{children:c}):null,!1===s?null:e("thead",{children:t("tr",{children:[!1===r?null:e(yn,{sort:o??[],label:"Id",onClick:d}),Be(l,(({label:t},n)=>e(yn,{cellId:n,label:t,sort:o??[],onClick:d},n)))]})}),e("tbody",{children:Ve(i,(n=>t("tr",{children:[!1===r?null:e("th",{children:n}),Be(l,(({component:t,getComponentProps:s},r)=>e("td",{children:e(t,{...Xt(s,n,r),...a,rowId:n,cellId:r})},r)))]},n)))})]}),yn=({cellId:e,sort:[n,s],label:r=e??W,onClick:l})=>t("th",{onClick:mn((()=>l?.(e)),[l,e],l),className:we(s)||n!=e?void 0:`sorted ${s?"de":"a"}scending`,children:[we(s)||n!=e?null:(s?"↓":"↑")+" ",r]}),vn=({localRowId:s,params:[r,l,a,i,o,d,c]})=>{const h=y(o,s,d);return t("tr",{children:[!1===r?null:t(n,{children:[e("th",{children:s}),e("th",{children:h})]}),Be(l,(({component:t,getComponentProps:n},r)=>{const[l,o]=((e,t="",n)=>e.split(t,n))(r,".",2),d=l===a?s:l===i?h:null;return we(d)?null:e("td",{children:e(t,{...Xt(n,d,o),store:c,tableId:l,rowId:d,cellId:o})},r)}))]})},Cn=({thing:n,onThingChange:s,className:r,hasSchema:l,showType:a=!0})=>{const[i,o]=Kt(),[d,c]=Kt(),[h,u]=Kt(),[m,g]=Kt(),[p,b]=Kt();d!==n&&(o(Vt(n)),c(n),u(n+""),g(Number(n)||0),b(!!n));const f=jt(((e,t)=>{t(e),c(e),s(e)}),[s]),I=jt((()=>{if(!l?.()){const e=Rt(i,K,G,Q),t=Rt(e,h,m,p);o(e),c(t),s(t)}}),[l,s,h,m,p,i]);return t("div",{className:r,children:[a?e("button",{className:i,onClick:I,children:i}):null,Rt(i,e("input",{value:h,onChange:jt((e=>f(e[he][ue]+"",u)),[f])},i),e("input",{type:"number",value:m,onChange:jt((e=>f(Number(e[he][ue]||0),g)),[f])},i),e("input",{type:"checkbox",checked:p,onChange:jt((e=>f(!!e[he].checked,b)),[f])},i))]})},xn=({tableId:t,cellId:n,descending:s,offset:r,limit:l,store:a,editable:i,sortOnClick:o,paginator:d=!1,onChange:c,customCells:u,...m})=>{const[g,p,b]=fn(n,s,o,r,l,v(t,a),d,c);return e(wn,{...m,params:gn(In(h(t,a),u,i?Nn:f),pn(a,t),C(t,...g,l,a),g,p,b)})},Tn=({store:n,editable:s=!1,valueComponent:r=(s?Vn:a),getValueComponentProps:l,className:o,headerRow:d,idColumn:c})=>t("table",{className:o,children:[!1===d?null:e("thead",{children:t("tr",{children:[!1===c?null:e("th",{children:"Id"}),e("th",{children:oe})]})}),e("tbody",{children:Ve(i(n),(s=>t("tr",{children:[!1===c?null:e("th",{children:s}),e("td",{children:e(r,{...Xt(l,s),valueId:s,store:n})})]},s)))})]}),Sn=({indexId:t,sliceId:n,indexes:s,editable:r,customCells:l,...a})=>{const[i,o,u]=((e,t)=>[e,e?.getStore(),e?.getTableId(t)])(d(s),t);return e(wn,{...a,params:gn(In(h(u,o),l,r?Nn:f),pn(o,u),c(t,n,i))})},kn=({relationshipId:s,relationships:r,editable:l,customCells:a,className:i,headerRow:o,idColumn:d=!0})=>{const[c,h,u,m]=((e,t)=>[e,e?.getStore(),e?.getLocalTableId(t),e?.getRemoteTableId(t)])(b(r),s),g=In([...un(u,h),...un(m,h)],a,l?Nn:f),p=gn(d,g,u,m,s,c,h);return t("table",{className:i,children:[!1===o?null:e("thead",{children:t("tr",{children:[!1===d?null:t(n,{children:[t("th",{children:[u,".Id"]}),t("th",{children:[m,".Id"]})]}),Be(g,(({label:t},n)=>e("th",{children:t},n)))]})}),e("tbody",{children:Ve(I(u,h),(t=>e(vn,{localRowId:t,params:p},t)))})]})},qn=({queryId:t,cellId:n,descending:s,offset:r,limit:l,queries:a,sortOnClick:i,paginator:o=!1,customCells:d,onChange:c,...h})=>{const[b,f,I]=fn(n,s,i,r,l,u(t,a),o,c);return e(wn,{...h,params:gn(In(p(t,a),d,g),bn(a,t),m(t,...b,l,a),b,f,I)})},Nn=({tableId:t,rowId:n,cellId:r,store:l,className:a,showType:i})=>e(Cn,{thing:s(t,n,r,l),onThingChange:w(t,n,r,(e=>e),[],l),className:a??hn+ae,showType:i,hasSchema:o(l)?.hasTablesSchema}),Vn=({valueId:t,store:n,className:s,showType:a})=>e(Cn,{thing:r(t,n),onThingChange:l(t,(e=>e),[],n),className:s??hn+oe,showType:a,hasSchema:o(n)?.hasValuesSchema}),Ln=({onChange:s,total:r,offset:l=0,limit:a=r,singular:i="row",plural:o=i+"s"})=>{(l>r||l<0)&&(l=0,s(0));const d=mn((()=>s(l-a)),[s,l,a],l>0),c=mn((()=>s(l+a)),[s,l,a],l+a<r);return t(n,{children:[r>a&&t(n,{children:[e("button",{className:"previous",disabled:0==l,onClick:d,children:"←"}),e("button",{className:"next",disabled:l+a>=r,onClick:c,children:"→"}),l+1," to ",be(r,l+a)," of "]}),r," ",1!=r?o:i]})},Mn=({uniqueId:n,summary:r,editable:l,handleEditable:a,children:i,s:o})=>{const d=!!s(en,n,nn,o),c=w(en,n,nn,(e=>e[he].open),[],o);return t("details",{open:d,onToggle:c,children:[t("summary",{children:[r,a?e("img",{onClick:a,className:l?"done":"edit"}):null]}),i]})},Rn=({indexes:t,indexesId:n,indexId:s,s:r})=>e(Mn,{uniqueId:an("i",n,s),summary:"Index: "+s,s:r,children:Ve(S(s,t),(l=>e(En,{indexes:t,indexesId:n,indexId:s,sliceId:l,s:r},l)))}),En=({indexes:t,indexesId:n,indexId:s,sliceId:r,s:l})=>{const a=an("i",n,s,r),[i,o]=dn(a,l);return e(Mn,{uniqueId:a,summary:"Slice: "+r,editable:i,handleEditable:o,s:l,children:e(Sn,{sliceId:r,indexId:s,indexes:t,editable:i})})},zn=({indexesId:t,s:n})=>{const s=x(t),r=T(s);return we(s)?null:e(Mn,{uniqueId:an("i",t),summary:"Indexes: "+(t??Y),s:n,children:Le(r)?"No indexes defined":on(r,(r=>e(Rn,{indexes:s,indexesId:t,indexId:r,s:n},r)))})},$n=({metrics:n,metricId:s})=>t("tr",{children:[e("th",{children:s}),e("td",{children:n?.getTableId(s)}),e("td",{children:N(s,n)})]}),An=({metricsId:n,s:s})=>{const r=k(n),l=q(r);return we(r)?null:e(Mn,{uniqueId:an("m",n),summary:"Metrics: "+(n??Y),s:s,children:Le(l)?"No metrics defined":t("table",{children:[t("thead",{children:[e("th",{children:"Metric Id"}),e("th",{children:"Table Id"}),e("th",{children:"Metric"})]}),e("tbody",{children:Ve(l,(t=>e($n,{metrics:r,metricId:t},t)))})]})})},Jn=({queries:t,queriesId:n,queryId:r,s:l})=>{const a=an("q",n,r),[i,o,d]=Ke(s(en,a,tn,l)??"[]"),c=w(en,a,tn,Ue,[],l);return e(Mn,{uniqueId:a,summary:"Query: "+r,s:l,children:e(qn,{queryId:r,queries:t,cellId:i,descending:o,offset:d,limit:10,paginator:!0,sortOnClick:!0,onChange:c})})},On=({queriesId:t,s:n})=>{const s=V(t),r=L(s);return we(s)?null:e(Mn,{uniqueId:an("q",t),summary:"Queries: "+(t??Y),s:n,children:Le(r)?"No queries defined":on(r,(r=>e(Jn,{queries:s,queriesId:t,queryId:r,s:n},r)))})},Pn=({relationships:t,relationshipsId:n,relationshipId:s,s:r})=>{const l=an("r",n,s),[a,i]=dn(l,r);return e(Mn,{uniqueId:l,summary:"Relationship: "+s,editable:a,handleEditable:i,s:r,children:e(kn,{relationshipId:s,relationships:t,editable:a})})},Dn=({relationshipsId:t,s:n})=>{const s=M(t),r=R(s);return we(s)?null:e(Mn,{uniqueId:an("r",t),summary:"Relationships: "+(t??Y),s:n,children:Le(r)?"No relationships defined":on(r,(r=>e(Pn,{relationships:s,relationshipsId:t,relationshipId:r,s:n},r)))})},Fn=({tableId:t,store:n,storeId:r,s:l})=>{const a=an("t",r,t),[i,o,d]=Ke(s(en,a,tn,l)??"[]"),c=w(en,a,tn,Ue,[],l),[h,u]=dn(a,l);return e(Mn,{uniqueId:a,summary:ee+": "+t,editable:h,handleEditable:u,s:l,children:e(xn,{tableId:t,store:n,cellId:i,descending:o,offset:d,limit:10,paginator:!0,sortOnClick:!0,onChange:c,editable:h})})},jn=({store:t,storeId:n,s:s})=>{const r=an("v",n),[l,a]=dn(r,s);return Le(i(t))?null:e(Mn,{uniqueId:r,summary:de,editable:l,handleEditable:a,s:s,children:e(Tn,{store:t,editable:l})})},Bn=({storeId:n,s:s})=>{const r=E(n),l=z(r);return we(r)?null:t(Mn,{uniqueId:an("s",n),summary:(r.isMergeable()?"Mergeable":"")+"Store: "+(n??Y),s:s,children:[e(jn,{storeId:n,store:r,s:s}),on(l,(t=>e(Fn,{store:r,storeId:n,tableId:t,s:s},t)))]})},Hn=({s:n})=>{const s=Gt(null),r=Gt(0),[l,a]=Kt(!1),{scrollLeft:i,scrollTop:o}=$(n);Wt((()=>{const e=s.current;if(e&&!l){const t=new MutationObserver((()=>{e.scrollWidth>=fe(i)+e.clientWidth&&e.scrollHeight>=fe(o)+e.clientHeight&&e.scrollTo(i,o)}));return t.observe(e,{childList:!0,subtree:!0}),()=>t.disconnect()}}),[l,i,o]);const d=jt((e=>{const{scrollLeft:t,scrollTop:s}=e[he];cancelIdleCallback(r.current),r.current=requestIdleCallback((()=>{a(!0),n.setPartialValues({scrollLeft:t,scrollTop:s})}))}),[n]),c=E(),h=A(),u=k(),m=J(),g=x(),p=O(),b=M(),f=P(),I=V(),w=D();return we(c)&&Le(h)&&we(u)&&Le(m)&&we(g)&&Le(p)&&we(b)&&Le(f)&&we(I)&&Le(w)?e("span",{className:"warn",children:"There are no Stores or other objects to inspect. Make sure you placed the Inspector inside a Provider component."}):t("article",{ref:s,onScroll:d,children:[e(Bn,{s:n}),Ve(h,(t=>e(Bn,{storeId:t,s:n},t))),e(An,{s:n}),Ve(m,(t=>e(An,{metricsId:t,s:n},t))),e(zn,{s:n}),Ve(p,(t=>e(zn,{indexesId:t,s:n},t))),e(Dn,{s:n}),Ve(f,(t=>e(Dn,{relationshipsId:t,s:n},t))),e(On,{s:n}),Ve(w,(t=>e(On,{queriesId:t,s:n},t)))]})};class Wn extends Dt{constructor(e){super(e),this.state={e:0}}static getDerivedStateFromError(){return{e:1}}componentDidCatch=(e,t)=>console.error(e,t.componentStack);render(){return this.state.e?e("span",{className:"warn",children:"Inspector error: please see console for details."}):this.props.children}}const Qn=({s:n})=>{const s=r(sn,n)??1,a=l(rn,(()=>!1),[],n),i=l(sn,(e=>Number(e[he].dataset.id)),[],n);return t("header",{children:[e("img",{title:Zt}),e("span",{children:Zt}),Ve(_t,((t,n)=>n==s?null:e("img",{onClick:i,"data-id":n,title:"Dock to "+t},n))),e("img",{onClick:a,title:"Close"})]})},Gn=({s:n})=>{const s=r(sn,n)??1;return r(rn,n)?t("main",{"data-position":s,children:[e(Qn,{s:n}),e(Wn,{children:e(Hn,{s:n})})]}):null},Kn="M20 80l5-15l40-40l10 10l-40 40l-15 5m5-15l10 10",Un='content:url("',Xn=Un+"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' stroke-width='4' stroke='white' fill='none'>",Yn='</svg>")',Zn=Un+"data:image/svg+xml,%3csvg viewBox='0 0 680 680' xmlns='http://www.w3.org/2000/svg' style='width:680px%3bheight:680px'%3e %3cpath stroke='white' stroke-width='80' fill='none' d='M340 617a84 241 90 11.01 0zM131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124zm-12-127a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e %3cpath fill='%23d81b60' d='M131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124z' /%3e %3cpath d='M249 619a94 240 90 00308-128 114 289 70 01-308 128zM119 208a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e%3c/svg%3e\")",_n=Ve([[20,20,20,60],[20,20,60,20],[20,60,60,20],[60,20,20,60],[30,30,40,40]],(([e,t,n,s])=>Xn+`<rect x='20' y='20' width='60' height='60' fill='grey'/><rect x='${e}' y='${t}' width='${n}' height='${s}' fill='white'/>`+Yn)),es=Xn+"<path d='M20 20l60 60M20 80l60-60' />"+Yn,ts=Xn+`<path d='${Kn}' />`+Yn,ns=Xn+`<path d='${Kn}M20 20l60 60' />`+Yn,ss="*::-webkit-scrollbar",rs=((e,t="")=>e.join(t))(Be({"":"all:initial;font-family:sans-serif;font-size:0.75rem;position:fixed;z-index:999999","*":"all:revert","*::before":"all:revert","*::after":"all:revert",[ss]:"width:0.5rem;height:0.5rem;",[ss+"-track"]:"background:#111",[ss+"-thumb"]:"background:#999;border:1px solid #111",[ss+"-thumb:hover"]:"background:#fff",[ss+"-corner"]:"background:#111",img:"width:1rem;height:1rem;background:#111;border:0;vertical-align:text-bottom",">img":"padding:0.25rem;bottom:0;right:0;position:fixed;"+Zn,...De(Ve(["bottom:0;left:0","top:0;right:0"],((e,t)=>[`>img[data-position='${t}']`,e]))),main:"display:flex;flex-direction:column;background:#111d;color:#fff;position:fixed;",...De(Ve(["bottom:0;left:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:30vh","bottom:0;left:0;width:100vw;height:30vh","top:0;right:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:100vh"],((e,t)=>[`main[data-position='${t}']`,e]))),header:"display:flex;padding:0.25rem;background:#000;align-items:center","header>img:nth-of-type(1)":Zn,"header>img:nth-of-type(6)":es,...De(Ve(_n,((e,t)=>[`header>img[data-id='${t}']`,e]))),"header>span":"flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-left:0.25rem",article:"padding:0.25rem 0.25rem 0.25rem 0.5rem;overflow:auto;flex:1",details:"margin-left:0.75rem;width:fit-content;","details img":"display:none","details[open]>summary img":"display:unset;background:none;margin-left:0.25rem","details[open]>summary img.edit":ts,"details[open]>summary img.done":ns,summary:"margin-left:-0.75rem;line-height:1.25rem;user-select:none;width:fit-content",table:"border-collapse:collapse;table-layout:fixed;margin-bottom:0.5rem","table input":"background:#111;color:unset;padding:0 0.25rem;border:0;font-size:unset;vertical-align:top;margin:0",'table input[type="number"]':"width:4rem","table tbody button":"font-size:0;background:#fff;border-radius:50%;margin:0 0.125rem 0 0;width:0.85rem;color:#111","table button:first-letter":"font-size:0.75rem",thead:"background:#222","th:nth-of-type(1)":"min-width:2rem;","th.sorted":"background:#000","table caption":"text-align:left;white-space:nowrap;line-height:1.25rem",button:"width:1.5rem;border:none;background:none;color:#fff;padding:0","button[disabled]":"color:#777","button.next":"margin-right:0.5rem",[`th,#${Yt} td`]:"overflow:hidden;text-overflow:ellipsis;padding:0.25rem 0.5rem;max-width:12rem;white-space:nowrap;border-width:1px 0;border-style:solid;border-color:#777;text-align:left","span.warn":"margin:0.25rem;color:#d81b60"},((e,t)=>e?`#${Yt} ${t}{${e}}`:""))),ls=({position:s="right",open:r=!1})=>{const l=F(Pt),a=_t.indexOf(s);return j(l,(e=>{return t=Yt,n=sessionStorage,((e,t,n,s,r,l,a,i={},o=0,d=[])=>{let c,h,u,m=0,g=0,p=0;ut(kt,d,(()=>0)),ut(qt,d,(()=>[]));const b=it(),[f,I,w,y,v]=((e=1,t,n)=>1!=e&&t.isMergeable()?[1,t.getMergeableContent,()=>t.getTransactionMergeableChanges(!n),([[e],[t]])=>!We(e)||!We(t),t.setDefaultContent]:2!=e?[0,t.getContent,t.getTransactionChanges,([e,t])=>!We(e)||!We(t),t.setContent]:ke("Store type not supported by this Persister"))(a,e,o),[C,x,T]=St((()=>R)),S=e=>{e!=m&&(m=e,x(b,void 0,m))},k=t=>{(f&&xe(t?.[0])?1===t?.[2]?e.applyMergeableChanges:e.setMergeableContent:1===t?.[2]?e.applyChanges:e.setContent)(t)},q=async e=>(2!=m&&(S(1),g++,await M((async()=>{try{const n=await t();xe(n)?k(n):e?v(e):ke("Content is not an array: "+n)}catch(t){e&&v(e)}S(0)}))),R),N=()=>(h&&(r(h),h=void 0),R),V=async e=>(1!=m&&(S(2),p++,await M((async()=>{try{await n(I,e)}catch(e){}S(0)}))),R),L=()=>(u&&(e.delListener(u),u=void 0),R),M=async(...e)=>(Me(dt(qt,d),...e),await(async()=>{if(!dt(kt,d)){for(ht(kt,d,1);!we(c=Re(dt(qt,d)));)try{await c()}catch(e){}ht(kt,d,0)}})(),R),R={load:q,startAutoLoad:async e=>{N(),await q(e);try{h=await s((async(e,t)=>{t||e?2!=m&&(S(1),g++,k(t??e),S(0)):await q()}))}catch(e){}return R},stopAutoLoad:N,isAutoLoading:()=>!we(h),save:V,startAutoSave:async()=>(L(),await V(),u=e.addDidFinishTransactionListener((()=>{const e=w();y(e)&&V(e)})),R),stopAutoSave:L,isAutoSaving:()=>!we(u),getStatus:()=>m,addStatusListener:e=>C(e,b),delListener:t=>(T(t),e),schedule:M,getStore:()=>e,destroy:()=>(dt(qt,d).splice(0,void 0),N().stopAutoSave()),getStats:()=>({loads:g,saves:p}),...i};return Pe(R)})(e,(async()=>{return e=n.getItem(t),Ke(e,((e,t)=>"￼"===t?void 0:t));var e}),(async e=>{return n.setItem(t,(s=e(),Ge(s,((e,t)=>void 0===t?"￼":t))));var s}),(e=>{const s=s=>{if(s.storageArea===n&&s.key===t)try{e(Ke(s.newValue))}catch{e()}};return ge.addEventListener(Nt,s),s}),(e=>ge.removeEventListener(Nt,e)),0,3,{getStorageName:()=>t});var t,n}),void 0,(async e=>{await e.load([{},{position:-1==a?1:a,open:!!r}]),await e.startAutoSave()})),t(n,{children:[t("aside",{id:Yt,children:[e(cn,{s:l}),e(Gn,{s:l})]}),e("style",{children:rs})]})};export{ls as Inspector};
